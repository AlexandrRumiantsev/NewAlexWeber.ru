(window.webpackJsonpadmin_form=window.webpackJsonpadmin_form||[]).push([[0],{21:function(e,t,a){e.exports=a(22)},22:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(6),c=a(4),i=a(2),l=a(7),o=a(0),s=a.n(o),u=a(8),m=a.n(u),d=(a(27),a(5)),p=a.n(d),h=a(19),E=Object(h.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"Hi"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAY OK":return{data:"OK"};case"HEADER":return{data:s.a.createElement("h1",null,"HEADER")};default:return e}})),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={headerArr:a.takeData(),project_form:0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"takeData",value:function(){E.dispatch({type:"HEADER"})}},{key:"img",value:function(e){switch(e){case"default":return s.a.createElement("div",{className:"section-header__img__default-img"}," ")}}},{key:"addProject",value:function(){p.a.post("http://alexweber.ru:5000/save",{id_group:"1",name:document.getElementById("name_project").value,link:document.getElementById("url_project").value,discription:document.getElementById("discr_project").value,image:document.getElementById("image_project").value,imageFull:document.getElementById("image_full_project").value}).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){console.log(JSON.stringify(e))}))}},{key:"showProjectAddForm",value:function(){var e=this;return s.a.createElement("div",{id:"pop-app"},s.a.createElement("div",null,s.a.createElement("input",{id:"name_project",type:"text"})),s.a.createElement("div",null,s.a.createElement("input",{id:"discr_project",type:"text"})),s.a.createElement("div",null,s.a.createElement("input",{id:"url_project",type:"text"})),s.a.createElement("div",null,s.a.createElement("input",{id:"id_group_project",type:"text"})),s.a.createElement("div",null,s.a.createElement("input",{id:"image_project",type:"text"})),s.a.createElement("div",null,s.a.createElement("input",{id:"image_full_project",type:"text"})),s.a.createElement("div",null,s.a.createElement("span",{onClick:function(){return e.addProject()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 ")))}},{key:"form",value:function(e){var t=this;return s.a.createElement("section",{className:"section-header"},s.a.createElement("header",{className:"section-header__img"},void 0===e[0].img?this.img("default"):this.img(e[0].img)),s.a.createElement("main",{className:"section-header__name"},"\u0418\u043c\u044f: ",e[0].name),s.a.createElement("footer",{className:"section-header__login"},"\u041b\u043e\u0433\u0438\u043d: ",e[0].login),s.a.createElement("div",{className:"section-header__add-project"},s.a.createElement("button",{onClick:function(){t.setState({project_form:1})}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442")),s.a.createElement("div",null,1==this.state.project_form?this.showProjectAddForm():""))}}]),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.takeData(),console.log(this.state.headerArr)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Header"}," ",this.form(this.props.dataHeader)," ")}}]),t}(s.a.Component),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(c.a)(t).apply(this,arguments))).state=E.getState(),e.unsubscribe=E.subscribe((function(){e.setState(E.getState())})),e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"sayOK",value:function(){E.dispatch({type:"SAY OK"})}},{key:"delButton",value:function(e,t){var a=this;if("Admin"===e[0].login)return s.a.createElement("button",{onClick:function(){return a.delFunc(t)},className:"project-container__del"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")}},{key:"delFunc",value:function(e){p.a.get("http://alexweber.ru:5000/delete?name="+e).then(console.log("Delete "+e))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main-container"},s.a.createElement("h1",null,this.state.data),s.a.createElement("h2",{onClick:this.sayOK.bind(this)},"\u0421\u043a\u0430\u0436\u0438 \u041e\u041a"),this.props.tmp.map((function(t){return s.a.createElement("div",{className:"project",key:t._id},s.a.createElement("main",{className:"project-container"},s.a.createElement("img",{className:"project-container__img",src:"http://alexweber.ru/img/"+t.image}),s.a.createElement("a",{className:"project-container__del",target:"_blank",href:t.link}," ",t.name," "),e.delButton(e.props.user,t.name)))})))}}]),t}(s.a.Component),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={jsonAPI:[]},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"uppgrade",value:function(e){var t=this;0===e?(this.get(),this.uppgrade(1)):setInterval((function(){t.get()}),3e4)}},{key:"get",value:function(){var e=this,t=[];return new Promise((function(){return p.a.get("http://alexweber.ru:5000/data").then((function(a){t=a.data,console.log(t),e.setState({jsonAPI:t})}))})).then((function(){throw new Error("\u0413\u0434\u0435-\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})),this.state.jsonAPI}}]),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.uppgrade(0)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(v,{dataHeader:this.props.data}),s.a.createElement(f,{user:this.props.data,tmp:this.state.jsonAPI}))}}]),t}(s.a.Component),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={autoriz:[]},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onClick",value:function(){var e=document.getElementById("log").value,t=document.getElementById("pass").value;p.a.get("http://alexweber.ru:5000/login?login="+e+"&password="+t).then((function(e){0!=e.data.length?m.a.render(s.a.createElement(y,{data:e.data,isSuccess:!0}),document.getElementById("root")):(alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),m.a.render(s.a.createElement(y,{isSuccess:!1}),document.getElementById("root")))}))}}]),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Authorization"},s.a.createElement("h1",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),s.a.createElement("div",{className:"line"},s.a.createElement("div",{className:"row"},"\u041b\u043e\u0433\u0438\u043d:")," ",s.a.createElement("div",{className:"row"},s.a.createElement("input",{id:"log"}))),s.a.createElement("div",{className:"line"},s.a.createElement("div",{className:"row"}," \u041f\u0430\u0440\u043e\u043b\u044c:"),"  ",s.a.createElement("div",{className:"row"},s.a.createElement("input",{id:"pass"}))),s.a.createElement("span",{onClick:this.onClick},s.a.createElement("div",{className:"sbm"},"\u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f")))}}]),t}(s.a.Component);function y(e){return e.isSuccess?s.a.createElement(g,{data:e.data}):s.a.createElement(j,null)}m.a.render(s.a.createElement(y,{isSuccess:!1}),document.getElementById("root"))},27:function(e,t,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.1a1d93be.chunk.js.map