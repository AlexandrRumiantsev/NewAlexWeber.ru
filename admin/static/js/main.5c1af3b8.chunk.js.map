{"version":3,"sources":["index.js"],"names":["store","createStore","state","say","action","type","Header","props","headerArr","data","img","className","arr","undefined","this","name","login","form","dataHeader","React","Component","Body","arguments","getState","unsubscribe","subscribe","setState","dispatch","onClick","sayOK","bind","tmp","map","n","key","_id","src","image","target","href","link","AdminPanel","jsonAPI","projects","axios","get","then","res","Authorization","autoriz","log","document","getElementById","value","pass","response","length","ReactDOM","render","Response","isSuccess","alert","id"],"mappings":"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","file":"static/js/main.5c1af3b8.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport axios from 'axios';\n\n/* Пример REDUX */\nimport {createStore} from 'redux';\nconst reducer = (state = {say: 'Hi'}, action) => {\n    switch (action.type) {\n        case 'SAY OK': return {say: 'OK'};\n        default: return state;\n    }\n}\nconst store = createStore(reducer);\n\nclass Header extends React.Component {\n    \n img(img){\n     \n     switch(img){\n         case 'default':{\n             return <div className='section-header__img__default-img'> </div>\n         }\n     }\n     \n } \n \n form(arr){\n     return <section className='section-header'>\n     \n                <header className='section-header__img'>\n                    { (arr[0].img === undefined) ? this.img('default') : this.img(arr[0].img) }\n                </header>\n                \n                <main className='section-header__name'>\n                    Имя: { arr[0].name }\n                </main>\n                \n                <footer className='section-header__login'>\n                    Логин: { arr[0].login }\n                </footer>\n                \n            </section>\n }  \n constructor(props) {\n    super(props);\n\n    this.state = {\n      headerArr: this.props.data\n    };\n  }\n  render() {\n       return <div className='Header'> { this.form(this.props.dataHeader) } </div>\n  }\n  \n}\n\nclass Body extends React.Component {\n  //Пример REDUX    \n  constructor () {\n        super(...arguments);\n        this.state = store.getState();\n        this.unsubscribe = store.subscribe(() => {\n            this.setState(store.getState());\n        });\n    }\n  sayOK () {\n        store.dispatch({type: 'SAY OK'});\n  }\n  //END REDUX\n  render() {\n    return <div className='main-container'>\n              \n              <h1>{this.state.say}</h1>\n              <h2 onClick={this.sayOK.bind(this)}>Скажи ОК</h2>\n              \n              {this.props.tmp.map(n =>\n                    <div className='project' key={n._id}>\n                        <main className='project-container'>\n                            <img  className='project-container__img' src={'http://alexweber.ru/img/'+n.image} /> \n                            <a className='project-container__del' target='_blank' href={n.link}> {n.name} </a>\n                            <a className='project-container__del' target='_blank' href={'http://alexweber.ru:5000/delete?name=' + n.name} > УДАЛИТЬ </a>\n                        </main>     \n                    </div>\n                )\n              }</div>\n  }\n}\n\nclass AdminPanel extends React.Component {\n  get(){\n     var projects = [];\n     axios.get(`http://alexweber.ru:5000/data`)\n          .then(res => {\n            projects = res.data;\n            this.setState({\n              jsonAPI: projects\n            })\n          }) \n          \n    return this.state.jsonAPI;      \n  }\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      jsonAPI: []\n    };\n  }\n  render() {\n    return (\n      <div>\n        <Header dataHeader={this.props.data}/>\n        <Body tmp={this.get()} />\n      </div>\n    );\n  }\n}\n\n\n    \nclass Authorization extends React.Component{\n    onClick(){\n      \n       let log = document.getElementById('log').value;\n       let pass = document.getElementById('pass').value;\n\n       axios.get('http://alexweber.ru:5000/login?login=' + log + '&password=' + pass)\n          .then( response => {\n            if (response.data.length != 0) \n                ReactDOM.render(<Response data={response.data} isSuccess={true} />,  document.getElementById('root'))\n            else{\n                alert('Неверный логин или пароль');\n                ReactDOM.render(<Response isSuccess={false} />,  document.getElementById('root'));\n            }   \n          });\n    }\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          autoriz: []\n        };\n    }\n    render(){\n        return (\n             <div className='Authorization'>\n                <h1>Авторизация пользователя</h1>\n                    <div className='line'>\n                        <div className='row'>Логин:</div> <div className='row'><input id='log'/></div>\n                    </div>\n                    <div className='line'>\n                        <div className='row'> Пароль:</div>  <div className='row'><input id='pass'/></div>\n                    </div>\n                    <span onClick={ this.onClick }>\n                         <div className='sbm'>Залогиниться</div>\n                    </span>\n             </div>\n        )\n    }\n}\n\nfunction Response(props) {\n\n    const isSuccess = props.isSuccess;\n    return isSuccess ? <AdminPanel data={props.data} /> : <Authorization/>\n\n  }\n\nReactDOM.render(<Response isSuccess={false} />,  document.getElementById('root')); "],"sourceRoot":""}